"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[66],{2541:(e,t,a)=>{a.d(t,{Z:()=>p});var s=a(7294),r=a(6010),n=a(4343),l=a(2255);const i={tag:"tag_fsVy",small:"small_nozE",g:"g_bCVl",o:"o_GyY6",r:"r_n39y",b:"b_qYpg"};function o(e){let{className:t,color:a,children:n,size:l}=e;return s.createElement("span",{className:(0,r.Z)(i.tag,"green"==a&&i.g,"yellow"==a&&i.o,"red"==a&&i.r,"blue"==a&&i.b,"small"==l&&i.small,t&&""!==t&&t)},n)}var c=a(3510);const d={infoRow:"infoRow_KMxO",bars:"bars_xPEC",barsRow:"barsRow_jRzY",capitalBars:"capitalBars_rA2J",roiBars:"roiBars_jCYE",payoutMonth:"payoutMonth_BvXT",currentMonth:"currentMonth_t6uD",yetToCompleteFirstMonth:"yetToCompleteFirstMonth_xgnH",gridCol:"gridCol_A_4D"};function m(e){let{startDate:t,endDate:a,payoutFrequencyInDays:l,payoutRoiInPercent:i,capital:o}=e;const m=Math.floor((a-t)/2592e3),u=new Array(m).fill(0),h=Math.floor(l/30),g=Math.floor(i/h),p=g*m,y=Math.floor(p/100),E=y>0?new Array(y).fill(0):[],b=Math.floor(m/6),w=b>1?new Array(b).fill(0):[],f=Math.floor((Math.floor(Date.now()/1e3)-t)/2592e3);return s.createElement("ul",{className:"clean-list"},s.createElement("li",{className:d.infoRow},s.createElement("span",null,s.createElement(c.ZP,{title:"Capital"},s.createElement(c.$d,{size:"big"},o))),s.createElement("span",null,s.createElement(c.ZP,{title:"Growth",textPos:"right"},s.createElement(c.gG,{size:"big"},g*f)))),s.createElement("li",{className:d.infoRow},s.createElement("ul",{className:(0,r.Z)("clean-list",d.bars)},s.createElement("li",{className:(0,r.Z)(d.barsRow,d.capitalBars)},u.map(((e,t)=>s.createElement("span",{key:t})))),s.createElement("li",{className:(0,r.Z)(d.barsRow,d.roiBars,f<1&&d.yetToCompleteFirstMonth)},f<1?u.map(((e,t)=>s.createElement("span",{key:t},s.createElement("span",{style:{height:g*(t+1)+"%"}})))):u.map(((e,t)=>{const a=f-1==t;return s.createElement("span",{key:t,className:(0,r.Z)(a&&d.currentMonth,Number.isInteger((t+1)/h)&&d.payoutMonth)},a?s.createElement("span",{style:{height:g*(t+1)+"%"},"data-growth":g*(t+1)+"%"}):s.createElement("span",{style:{height:g*(t+1)+"%"}}))}))),E.map(((e,t)=>s.createElement("li",{key:t,className:d.barsRow}))),b>1&&s.createElement("li",{className:d.gridCol},w.map(((e,t)=>s.createElement("span",{key:t})))))),s.createElement("li",{className:d.infoRow},s.createElement("span",null,s.createElement(c.ZP,{title:"Invested On"},n.Z.getLetterFormatedDate(Number(t),!0))),s.createElement("span",null,s.createElement(c.ZP,{title:"Invested Till",textPos:"right"},n.Z.getLetterFormatedDate(Number(a),!0)))))}const u={dtlC:"dtlC_zwOy",dtlH:"dtlH_RnMk",widget:"widget_NZj1"};function h(e){let{id:t,investmentObj:a,onGoBack:n}=e;const i=Math.round((Number(a.end)-Date.now()/1e3)/86400);return s.createElement("ul",{className:(0,r.Z)("clean-list",u.dtlC)},s.createElement("li",{className:u.dtlH},n&&"function"==typeof n&&s.createElement(l.ZP,{variant:"tertiary",onClick:n,icon:"arrow-left-circle"}),s.createElement(c.ZP,{title:"Investment ID"},t),s.createElement(o,{color:i<0?"red":i<=15?"yellow":"green"},i<0?"Ended":i<=15?`Ending in ${i} days`:"Active")),s.createElement("li",{className:u.widget},s.createElement("div",null,s.createElement(m,{startDate:t,endDate:a.end,payoutFrequencyInDays:a.payoutDaysCyc,payoutRoiInPercent:a.prcntROI,capital:a.amt}))))}const g={investments:"investments_ltoN",amt:"amt_O0Hx",sts:"sts_CXIZ",start:"start_gVCD",end:"end_CLKh",id:"id_HO_3",roi:"roi_ESma",prd:"prd_vQCy",act:"act_qgaW",active:"active_f0i3",closed:"closed_yYQo",prdTag:"prdTag_WbFi",botX1:"botX1_MK6o",botX2:"botX2_hfBA",botX3:"botX3_vtO7",botX4:"botX4_Dsvy",pb1:"pb1_LMXX",pb2:"pb2_vA0r",pb3:"pb3_N9uz"};function p(e){let{investmentsObj:t}=e;const[a,i]=(0,s.useState)(null);return null!=a?s.createElement(h,{id:a,onGoBack:()=>{i(null)},investmentObj:t[a]}):Object.keys(t).length>0?s.createElement("ul",{className:(0,r.Z)(g.investments,"clean-list")},s.createElement("li",{key:"header"},s.createElement("span",{className:g.prd},"Product"),s.createElement("span",{className:g.start},"Start Date"),s.createElement("span",{className:g.end},"End Date"),s.createElement("span",{className:g.id},"ID"),s.createElement("span",{className:g.sts},"Status"),s.createElement("span",{className:g.amt},"Capital Amt"),s.createElement("span",{className:g.roi},"ROI Payout"),s.createElement("span",{className:g.act},"Actions")),Object.keys(t).map(((e,a)=>{const d=Math.round((Number(t[e].end)-Date.now()/1e3)/86400),m=Number(t[e].amt);let u=31556926;return t[e].payoutDaysCyc>360&&(u=86400*t[e].payoutDaysCyc),s.createElement("li",{key:e,className:d<0?g.closed:g.active},s.createElement("span",{className:g.prd},Object.prototype.hasOwnProperty.call(t[e],"p")?s.createElement("span",{className:(0,r.Z)(g.prdTag,"PB1-SIP"==t[e].p&&g.pb1,"PB2-SIP"==t[e].p&&g.pb2,"PB3-SIP"==t[e].p&&g.pb3)}):s.createElement("span",{className:(0,r.Z)(g.prdTag,m<2e5?g.botX1:m<4e5?g.botX2:m<1e6?g.botX3:g.botX4)})),s.createElement("span",{className:g.start},n.Z.getLetterFormatedDate(Number(e),!0)),s.createElement("span",{className:g.end},n.Z.getLetterFormatedDate(Number(t[e].end),!0)),s.createElement("span",{className:g.id},e),s.createElement("span",{className:g.sts},d>0&&Math.floor(Date.now()/1e3)-Number(e)>u&&s.createElement(o,{color:"blue",size:"small"},"Renewed"),s.createElement(o,{color:d<0?"red":d<=15?"yellow":"green",size:"small"},d<0?"Ended":d<=15?`Ending in ${d} days`:"Active")),s.createElement("span",{className:g.amt},s.createElement(c.$d,{size:"big"},m)),Object.prototype.hasOwnProperty.call(t[e],"p")?s.createElement("span",{className:g.roi},t[e].prcntROI+"% after "+t[e].payoutDaysCyc+" days"):s.createElement("span",{className:g.roi},t[e].prcntROI+"% every "+t[e].payoutDaysCyc+" days"),s.createElement("div",{className:g.act},!Object.prototype.hasOwnProperty.call(t[e],"p")&&s.createElement(l.ZP,{variant:"primary",size:"smaller",onClick:()=>{i(e)},icon:"arrow-right",isIconOnRight:!0},"View")))}))):s.createElement("div",{className:"text--center"},"No Investments")}},7678:(e,t,a)=>{a.d(t,{Z:()=>w});var s=a(7294),r=a(6010),n=a(2255),l=a(238),i=a(9316);const o="wrap_yJiq",c="isViz_Fkpq",d="bg_p5Qx",m="sheet_hneH",u="xBtn_P64I";class h extends s.Component{constructor(e){super(e),this.state={isVisible:!1}}_openBtmSheet=()=>new Promise((e=>{document&&document.body&&(document.body.style.overflow="hidden"),setTimeout((()=>{this.setState({isVisible:!0}),setTimeout((()=>{e()}),200)}),10)}));close=()=>new Promise((e=>{this.setState({isVisible:!1}),setTimeout((()=>{document&&document.body&&(document.body.style.overflow="visible"),e()}),200)}));closeAndDo=()=>{this.close().then((()=>{this.props.doOnClose&&"function"==typeof this.props.doOnClose&&this.props.doOnClose()}))};componentDidMount(){this._openBtmSheet()}render(){const{title:e,desc:t,useCloseBtn:a,children:n}=this.props;return s.createElement("div",{className:(0,r.Z)(o,this.state.isVisible&&c)},a?s.createElement("div",{className:d}):s.createElement("div",{className:d,onClick:this.closeAndDo}),s.createElement("div",{className:m},(e||t)&&s.createElement("header",null,e&&s.createElement("div",null,e),t&&s.createElement("div",null,t)),s.createElement("main",null,"function"==typeof n?n(this.close):n),a&&s.createElement("span",{className:u,onClick:this.closeAndDo})))}}var g=a(8964),p=a(2541);const y="cstmrList_lill",E="nam_LyjJ",b="eml_gtMj";class w extends s.Component{constructor(e){super(e),this.state={isWip:!0,isLoadMoreWip:!1,dataAry:[],selectedForViewing:-1,lastEvalKey:null}}fetchDataFromDb=async()=>{let e={};try{let t={TableName:"LunaticCapital_Users",IndexName:"Manager-index",KeyConditionExpression:"#ManagerId = :u",ExpressionAttributeNames:{"#ManagerId":"Mngr"},ExpressionAttributeValues:{":u":this.props.cognitoUser.id},Select:"ALL_PROJECTED_ATTRIBUTES",ScanIndexForward:!1,Limit:10};if(this.state.lastEvalKey&&(t.ExclusiveStartKey=this.state.lastEvalKey),e=await l.Z.queryData(t),e.Count<1)return this.props.notify(this.state.lastEvalKey?"No more customer records":"No customer on record"),this.setState({lastEvalKey:null}),null;null!=this.state.lastEvalKey?this.setState((t=>({dataAry:[...t.dataAry,...e.Items]}))):this.setState({dataAry:e.Items}),e.LastEvaluatedKey?this.setState({lastEvalKey:e.LastEvaluatedKey}):this.setState({lastEvalKey:null})}catch(t){console.log("fetchDataFromDb():",t.message||t.name||t.code||"Error fetching customers"),this.props.notify(t.message||t.name||t.code||"Error fetching customers","err")}};doLoadMore=()=>{this.setState({isLoadMoreWip:!0}),this.fetchDataFromDb().finally((()=>{this.setState({isLoadMoreWip:!1})}))};setSelectedForViewing=e=>{this.setState({selectedForViewing:e})};unsetSelection=()=>{this.setState({selectedForViewing:-1})};componentDidMount(){this.fetchDataFromDb().finally((()=>{this.setState({isWip:!1})}))}render(){return this.state.dataAry.length>0?s.createElement(s.Fragment,null,s.createElement("div",null,s.createElement("ul",{className:(0,r.Z)(y,"clean-list")},s.createElement("li",{key:"header"},s.createElement("div",null,s.createElement("span",{className:E},"Name"),s.createElement("span",{className:b},"Email")),s.createElement("i",null)),this.state.dataAry.map(((e,t)=>s.createElement("li",{key:e.ID,onClick:()=>{this.setSelectedForViewing(t)}},s.createElement("div",null,s.createElement("span",{className:E},e.Dtls.n||"Customer-"+(t+1)),s.createElement("span",{className:b},e.Dtls.eml)),s.createElement(g.Z,{icon:"chevron-right"}))))),this.state.lastEvalKey&&s.createElement(n.pi,null,s.createElement(n.ZP,{variant:"secondary",size:"small",onClick:this.doLoadMore,isWip:this.state.isWip,wipText:"Loading"},"Load more")),this.state.isWip&&0==this.state.dataAry.length&&s.createElement(i.Z,{note:"Loading"})),this.state.selectedForViewing>-1&&s.createElement(h,{title:this.state.dataAry[this.state.selectedForViewing].Dtls.eml,doOnClose:this.unsetSelection,useCloseBtn:!0},s.createElement(p.Z,{investmentsObj:this.state.dataAry[this.state.selectedForViewing].Invst}))):this.state.isWip?s.createElement("div",null,"Loading..."):s.createElement("div",null,"No Customers")}}},3510:(e,t,a)=>{a.d(t,{$d:()=>o,gG:()=>c,ZP:()=>i});var s=a(7294),r=a(6010);const n={infoLbl:"infoLbl_HVaW",txtR:"txtR_XmRq",txtC:"txtC_CKU3",cpy:"cpy_yrtj"},l={amt:"amt_OMye",prcnt:"prcnt_YUVf",light:"light_T39C",big:"big_rUzH",bigger:"bigger_RdkH",biggest:"biggest_OW94",large:"large_dwuq",larger:"larger_YFnI",short:"short_NwYw",cr:"cr_lfU0",l:"l_M3xS",k:"k_cpDz"};function i(e){let{title:t,children:a,textPos:l,className:i}=e;return s.createElement("div",{className:(0,r.Z)(n.infoLbl,"right"==l&&n.txtR,"center"==l&&n.txtC,i&&""!==i&&i),"data-title":t},a)}function o(e){let{children:t,useShortForm:a,size:n,useLightColor:i}=e;if(isNaN(t))return s.createElement(s.Fragment,null,"0");const o=Intl.NumberFormat("en-IN").format(t),c=t>=1e7?t/1e7:null,d=t<1e7&&t>=1e5?t/1e5:null,m=t<1e5?t/1e3:null;return s.createElement("span",{className:(0,r.Z)(l.amt,"big"===n&&l.big,"bigger"===n&&l.bigger,"biggest"===n&&l.biggest,"large"===n&&l.large,"larger"===n&&l.larger,i&&l.light,c&&l.cr,d&&l.l,m&&l.k,a&&l.short)},a&&(c||d||m)||o)}function c(e){let{children:t,size:a,useLightColor:n}=e;return s.createElement("span",{className:(0,r.Z)(l.prcnt,"big"===a&&l.big,"bigger"===a&&l.bigger,"biggest"===a&&l.biggest,"large"===a&&l.large,"larger"===a&&l.larger,n&&l.light)},t)}},238:(e,t,a)=>{a.d(t,{Z:()=>c});var s=a(6036),r=a(1872),n=a(4057),l=a(7167),i=a(934);class o{static creds=null;static lastLoggedInUserEmail=null;static lastReadIdTokenIssuedAt=0;static lastReadIdTokenExpiry=0;static _clear=()=>{this.creds=null,this.lastLoggedInUserEmail=null,this.lastReadIdTokenIssuedAt=0,this.lastReadIdTokenExpiry=0};static _isCredsExpired=()=>{if(!this.creds)return!0;if(!this.creds.expiration)return!0;const e=new Date(this.creds.expiration).getTime();if(isNaN(e))return!0;return Date.now()>=e-15e3};static _getIdToken=async()=>{try{const e=new l.AM({UserPoolId:n.Om,ClientId:n.In});if(!e)throw new Error("Error reading from user pool");const t=e.getCurrentUser(),a=await new Promise(((e,a)=>{t.getSession(((t,s)=>{if(t)return a(t.message||JSON.stringify(t));if(!s)return a("No active user session");if(!s.isValid?.())return a("Invalid session");const r=s.getIdToken?.();return r?e(r):a()}))}));if(!a)throw new Error;return a}catch(e){}};static _getJwtIdToken=async()=>{try{const e=await this._getIdToken(),t=e.getJwtToken?.();if(!t)throw new Error;return t}catch(e){}};static _readIdTokenDetails=async()=>{try{const e=await this._getIdToken(),t=e.decodePayload?.();if(!t)throw new Error;return{email:t.email,issuedAt:e.getIssuedAt?.(),exp:e.getExpiration?.()}}catch(e){}};static _isUserSessionChangedOrExpired=async()=>{try{const{email:t,issuedAt:a,exp:s}=await this._readIdTokenDetails();var e=!1;return this.lastLoggedInUserEmail==t&&this.lastReadIdTokenIssuedAt==a&&this.lastReadIdTokenExpiry==s||(e=!0),this.lastLoggedInUserEmail=t,this.lastReadIdTokenIssuedAt=a,this.lastReadIdTokenExpiry=s,e?(this.creds=null,!0):s<=Math.floor(Date.now()/1e3)-10}catch(t){throw new Error(t)}};static _fetchCredsForLoggedInUser=async e=>{try{const e=await this._getJwtIdToken(),t=(0,i.s)({identityPoolId:n.vX,clientConfig:{region:n.U3},logins:{[`cognito-idp.${n.U3}.amazonaws.com/${n.Om}`]:e}});if(!t)throw new Error("Error getting fn that fetches credentials");const a=await t();return this.creds=a,a}catch(t){throw new Error("Error fetching credentials for logged-in user")}};static isExpired=async()=>!!await this._isUserSessionChangedOrExpired()||!!this._isCredsExpired();static getCredsForLoggedInUser=async()=>{try{if(await this.isExpired()){return{creds:await this._fetchCredsForLoggedInUser(),isFromCache:!1}}return{creds:this.creds,isFromCache:!0}}catch(e){throw new Error("Error getting credentials for logged-in user")}}}class c{static ddbClient=null;static ddbDocClient=null;static close=()=>{this.ddbDocClient&&(this.ddbDocClient.destroy(),this.ddbDocClient=null),this.ddbClient&&(this.ddbClient.destroy(),this.ddbClient=null)};static _initIfNotAlready=async()=>{try{const{creds:e,isFromCache:t}=await o.getCredsForLoggedInUser();return t?(this.ddbClient&&"DynamoDBClient"===this.ddbClient.constructor.name&&this.ddbDocClient||(this.close(),this.ddbClient=new s.c({region:n.U3,credentials:e}),this.ddbDocClient=r.m1.from(this.ddbClient)),this.ddbDocClient):(this.close(),this.ddbClient=new s.c({region:n.U3,credentials:e}),this.ddbDocClient=r.m1.from(this.ddbClient),this.ddbDocClient)}catch(e){console.log("getDynamoDbDocClient():",e.message||e.code||e.name||"Error initiating DB client")}};static queryData=async e=>{try{if(!e)throw new Error("No query specified");await this._initIfNotAlready();return await this.ddbDocClient.send(new r.cI(e))}catch(t){console.log("queryData():",t.message||t.code||t.name||"Error querying data from database")}};static getItemData=async e=>{try{if(!e)throw new Error("No query specified");await this._initIfNotAlready();return await this.ddbDocClient.send(new r.Bj(e))}catch(t){console.log("getItemData():",t.message||t.code||t.name||"Error fetching data from database")}};static putData=async e=>{try{if(!e)throw new Error("No query specified");await this._initIfNotAlready();return await this.ddbDocClient.send(new r.Yi(e))}catch(t){console.log("putData():",t.message||t.code||t.name||"Error writing to database")}}}},4343:(e,t,a)=>{a.d(t,{Z:()=>s});class s{static months=["January","February","March","April","May","June","July","August","September","October","November","December"];static monthsAbr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];static getLetterFormatedDate=(e,t)=>{if(!e)return"";if(!Number.isInteger(e))return"";"boolean"!=typeof t&&(t=!1);const a=new Date(1e3*e);return t?a.getDate()+" "+this.monthsAbr[a.getMonth()]+" "+a.getFullYear():a.getDate()+" "+this.months[a.getMonth()]+" "+a.getFullYear()};static getNumberFormatedDate=(e,t,a)=>{if(!e)return"";if(!Number.isInteger(e))return"";t&&"string"==typeof t||(t="-"),"boolean"!=typeof a&&(a=!1);const s=new Date(1e3*e);let r=s.getDate(),n=s.getMonth()+1;return a&&(r=r<10?"0"+r:r,n=n<10?"0"+n:n),r+t+n+t+s.getFullYear()};static getDayOrdinal=e=>{const t=e.toString(),a=t.slice(-1);return"1"===a&&"11"!==t?`${t}st`:"2"===a&&"12"!==t?`${t}nd`:"3"===a&&"13"!==t?`${t}rd`:`${t}th`}}},8914:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(7294),r=a(6550),n=a(2263),l=a(9230),i=a(6787),o=a(1705),c=a(1262);function d(){const[e,t]=s.useState(!0),[d,m]=s.useState(""),{siteConfig:u}=(0,n.Z)(),h=s.useContext(i._1),{notify:g}=s.useContext(o.z);return s.useEffect((()=>{(async()=>{try{const e=await h.getLoggedInCognitoUser();m(e.groups.includes("Manager")?"y":"n"),t(!1)}catch(e){}})()}),[]),h.isLoggedIn?e?s.createElement(s.Fragment,null):"n"==d?s.createElement(r.l_,{to:`${u.baseUrl}console`}):"y"==d&&s.createElement(l.Z,{title:"My Clients",description:"My clients at Lunatic Capital"},s.createElement("main",{className:"container margin-vert--lg"},s.createElement("h1",null,"My Clients"),s.createElement(c.Z,null,(()=>{const e=a(7678).Z;return s.createElement(e,{cognitoUser:h,notify:g})})))):s.createElement(r.l_,{to:`${u.baseUrl}login`})}}}]);