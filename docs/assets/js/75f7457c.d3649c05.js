"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[345],{2541:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(7294),n=a(6010),s=a(4343),i=a(2255);const l={tag:"tag_fsVy",small:"small_nozE",g:"g_bCVl",o:"o_GyY6",r:"r_n39y",b:"b_qYpg"};function o(e){let{className:t,color:a,children:s,size:i}=e;return r.createElement("span",{className:(0,n.Z)(l.tag,"green"==a&&l.g,"yellow"==a&&l.o,"red"==a&&l.r,"blue"==a&&l.b,"small"==i&&l.small,t&&""!==t&&t)},s)}var c=a(3510);const m={infoRow:"infoRow_KMxO",bars:"bars_xPEC",barsRow:"barsRow_jRzY",capitalBars:"capitalBars_rA2J",roiBars:"roiBars_jCYE",payoutMonth:"payoutMonth_BvXT",currentMonth:"currentMonth_t6uD",yetToCompleteFirstMonth:"yetToCompleteFirstMonth_xgnH",gridCol:"gridCol_A_4D"};function d(e){let{startDate:t,endDate:a,payoutFrequencyInDays:i,payoutRoiInPercent:l,capital:o}=e;const d=Math.floor((a-t)/2592e3),u=new Array(d).fill(0),g=Math.floor(i/30),h=Math.floor(l/g),p=h*d,y=Math.floor(p/100),E=y>0?new Array(y).fill(0):[],b=Math.floor(d/6),f=b>1?new Array(b).fill(0):[],w=Math.floor((Math.floor(Date.now()/1e3)-t)/2592e3);return r.createElement("ul",{className:"clean-list"},r.createElement("li",{className:m.infoRow},r.createElement("span",null,r.createElement(c.ZP,{title:"Capital"},r.createElement(c.$d,{size:"big"},o))),r.createElement("span",null,r.createElement(c.ZP,{title:"Growth",textPos:"right"},r.createElement(c.gG,{size:"big"},h*w)))),r.createElement("li",{className:m.infoRow},r.createElement("ul",{className:(0,n.Z)("clean-list",m.bars)},r.createElement("li",{className:(0,n.Z)(m.barsRow,m.capitalBars)},u.map(((e,t)=>r.createElement("span",{key:t})))),r.createElement("li",{className:(0,n.Z)(m.barsRow,m.roiBars,w<1&&m.yetToCompleteFirstMonth)},w<1?u.map(((e,t)=>r.createElement("span",{key:t},r.createElement("span",{style:{height:h*(t+1)+"%"}})))):u.map(((e,t)=>{const a=w-1==t;return r.createElement("span",{key:t,className:(0,n.Z)(a&&m.currentMonth,Number.isInteger((t+1)/g)&&m.payoutMonth)},a?r.createElement("span",{style:{height:h*(t+1)+"%"},"data-growth":h*(t+1)+"%"}):r.createElement("span",{style:{height:h*(t+1)+"%"}}))}))),E.map(((e,t)=>r.createElement("li",{key:t,className:m.barsRow}))),b>1&&r.createElement("li",{className:m.gridCol},f.map(((e,t)=>r.createElement("span",{key:t})))))),r.createElement("li",{className:m.infoRow},r.createElement("span",null,r.createElement(c.ZP,{title:"Invested On"},s.Z.getLetterFormatedDate(Number(t),!0))),r.createElement("span",null,r.createElement(c.ZP,{title:"Invested Till",textPos:"right"},s.Z.getLetterFormatedDate(Number(a),!0)))))}const u={dtlC:"dtlC_zwOy",dtlH:"dtlH_RnMk",widget:"widget_NZj1"};function g(e){let{id:t,investmentObj:a,onGoBack:s}=e;const l=Math.round((Number(a.end)-Date.now()/1e3)/86400);return r.createElement("ul",{className:(0,n.Z)("clean-list",u.dtlC)},r.createElement("li",{className:u.dtlH},s&&"function"==typeof s&&r.createElement(i.ZP,{variant:"tertiary",onClick:s,icon:"arrow-left-circle"}),r.createElement(c.ZP,{title:"Investment ID"},t),r.createElement(o,{color:l<0?"red":l<=15?"yellow":"green"},l<0?"Ended":l<=15?`Ending in ${l} days`:"Active")),r.createElement("li",{className:u.widget},r.createElement("div",null,r.createElement(d,{startDate:t,endDate:a.end,payoutFrequencyInDays:a.payoutDaysCyc,payoutRoiInPercent:a.prcntROI,capital:a.amt}))))}const h={investments:"investments_ltoN",amt:"amt_O0Hx",sts:"sts_CXIZ",start:"start_gVCD",end:"end_CLKh",id:"id_HO_3",roi:"roi_ESma",prd:"prd_vQCy",act:"act_qgaW",active:"active_f0i3",closed:"closed_yYQo",prdTag:"prdTag_WbFi",botX1:"botX1_MK6o",botX2:"botX2_hfBA",botX3:"botX3_vtO7",botX4:"botX4_Dsvy",pb1:"pb1_LMXX",pb2:"pb2_vA0r",pb3:"pb3_N9uz"};function p(e){let{investmentsObj:t}=e;const[a,l]=(0,r.useState)(null);return null!=a?r.createElement(g,{id:a,onGoBack:()=>{l(null)},investmentObj:t[a]}):Object.keys(t).length>0?r.createElement("ul",{className:(0,n.Z)(h.investments,"clean-list")},r.createElement("li",{key:"header"},r.createElement("span",{className:h.prd},"Product"),r.createElement("span",{className:h.start},"Start Date"),r.createElement("span",{className:h.end},"End Date"),r.createElement("span",{className:h.id},"ID"),r.createElement("span",{className:h.sts},"Status"),r.createElement("span",{className:h.amt},"Capital Amt"),r.createElement("span",{className:h.roi},"ROI Payout"),r.createElement("span",{className:h.act},"Actions")),Object.keys(t).map(((e,a)=>{const m=Math.round((Number(t[e].end)-Date.now()/1e3)/86400),d=Number(t[e].amt);let u=31556926;return t[e].payoutDaysCyc>360&&(u=86400*t[e].payoutDaysCyc),r.createElement("li",{key:e,className:m<0?h.closed:h.active},r.createElement("span",{className:h.prd},Object.prototype.hasOwnProperty.call(t[e],"p")?r.createElement("span",{className:(0,n.Z)(h.prdTag,"PB1-SIP"==t[e].p&&h.pb1,"PB2-SIP"==t[e].p&&h.pb2,"PB3-SIP"==t[e].p&&h.pb3)}):r.createElement("span",{className:(0,n.Z)(h.prdTag,d<2e5?h.botX1:d<4e5?h.botX2:d<1e6?h.botX3:h.botX4)})),r.createElement("span",{className:h.start},s.Z.getLetterFormatedDate(Number(e),!0)),r.createElement("span",{className:h.end},s.Z.getLetterFormatedDate(Number(t[e].end),!0)),r.createElement("span",{className:h.id},e),r.createElement("span",{className:h.sts},m>0&&Math.floor(Date.now()/1e3)-Number(e)>u&&r.createElement(o,{color:"blue",size:"small"},"Renewed"),r.createElement(o,{color:m<0?"red":m<=15?"yellow":"green",size:"small"},m<0?"Ended":m<=15?`Ending in ${m} days`:"Active")),r.createElement("span",{className:h.amt},r.createElement(c.$d,{size:"big"},d)),Object.prototype.hasOwnProperty.call(t[e],"p")?r.createElement("span",{className:h.roi},t[e].prcntROI+"% after "+t[e].payoutDaysCyc+" days"):r.createElement("span",{className:h.roi},t[e].prcntROI+"% every "+t[e].payoutDaysCyc+" days"),r.createElement("div",{className:h.act},!Object.prototype.hasOwnProperty.call(t[e],"p")&&r.createElement(i.ZP,{variant:"primary",size:"smaller",onClick:()=>{l(e)},icon:"arrow-right",isIconOnRight:!0},"View")))}))):r.createElement("div",{className:"text--center"},"No Investments")}},652:(e,t,a)=>{a.d(t,{Z:()=>b});var r=a(7294),n=(a(2255),a(238)),s=a(9316);const i={horizontalPanCntnr:"horizontalPanCntnr_p8KI","no-pan":"no-pan_b5sk",horizontalPanList:"horizontalPanList_GPd6"};function l(e){let{children:t}=e;return r.createElement("div",{className:i.horizontalPanCntnr},r.createElement("ul",{className:i.horizontalPanList},t.map(((e,t)=>r.createElement("li",{key:t},e)))))}var o=a(6526);var c=a(3510);const m={hero:"hero_Xpl6",innerC:"innerC_x3Xu",moonBtmSeperatorSvg:"moonBtmSeperatorSvg_aE61",card:"card_h1yS"};function d(e){let{investments:t,isWip:a,isFromOfflineCache:n,isOnline:s}=e;const[i,d,u,g,h,p]=function(e){let{investments:t}=e;const[a,n]=(0,r.useState)(0),[s,i]=(0,r.useState)(0),[l,o]=(0,r.useState)(0),[c,m]=(0,r.useState)(0),[d,u]=(0,r.useState)(0),[g,h]=(0,r.useState)({});return(0,r.useEffect)((()=>{if(Object.keys(t).length>0){let e=0,a=0,r=0,s=0,l=0,c={};Object.keys(t).forEach((n=>{if(Number(t[n].end)>Math.floor(Date.now()/1e3)){e+=Number(t[n].amt),r+=1,30==t[n].payoutDaysCyc?l+=t[n].prcntROI:l+=Math.floor(t[n].prcntROI/(t[n].payoutDaysCyc/30));const a=new Date(1e3*n).getFullYear().toString();c[a]={};const s=new Date(1e3*n).getMonth();c[a].amt=c[a].amt?c[a].amt+Number(t[n].amt):Number(t[n].amt),c[a].m&&Array.isArray(c[a].m)?c[a].m.push(s):c[a].m=[s]}else a+=Number(t[n].amt),s+=1})),n(e),i(a),o(r),m(s),u(Math.round(l/r)),h(c)}}),[t]),[l,a,c,s,d,g]}({investments:t});return r.createElement("header",{className:m.hero},r.createElement("div",{className:m.innerC},r.createElement(l,null,r.createElement("div",{className:m.card,"data-title":"Total Active Invesment"},r.createElement(c.$d,{useShortForm:!0,size:"larger",useLightColor:!0},d)),r.createElement("div",{className:m.card,"data-title":"Avg peak monthly gain"},r.createElement(c.gG,{size:"larger",useLightColor:!0},h)))),r.createElement(o.AW,{className:m.moonBtmSeperatorSvg}))}var u=a(2541),g=a(6599),h=a(2943),p=a(1705),y=a(869);function E(){const[e,t]=(0,r.useState)(!0),[a,s]=(0,r.useState)(!1),[i,l]=(0,r.useState)({}),o=(0,r.useContext)(g.x),c=(0,r.useContext)(h.j),{notify:m}=r.useContext(p.z),d=r.useContext(y._1),u=async()=>{try{if(t(!0),!o)throw new Error("Network Connection needed to fetch Investments");let e={TableName:"LunaticCapital_Users",Key:{ID:d.id},ProjectionExpression:"Invst"};const a=await n.Z.getItemData(e);if(!a||a=={}||null==a.Item)throw new Error("No investments on record");return l(a.Item.Invst),s(!1),t(!1),await c.write("myInvestments",d.id,a.Item.Invst).catch((e=>{console.error(e),m("Error writing to cache","err")})),a.Item.Invst}catch(e){m(e.message||e.name||e.code||"Error fetching investments","err"),t(!1)}};return(0,r.useEffect)((()=>{(async()=>{try{await(async()=>{t(!0);const e=await c.read("myInvestments",d.id);l(e),s(!0),t(!1)})()}catch(e){await u()}})()}),[o]),[i,e,a,o,u]}function b(){const[e,t,a,n,i]=E();return Object.keys(e).length>0?r.createElement(r.Fragment,null,r.createElement(d,{investments:e,isWip:t,isFromOfflineCache:a,isOnline:n}),r.createElement("main",{className:"container"},r.createElement("h1",null,"My Investments")," ",r.createElement(u.Z,{investmentsObj:e}),t&&0==Object.keys(e).length&&r.createElement(s.Z,{note:"Loading"}))):t?r.createElement("div",null,"Loading..."):n?r.createElement("div",null,"No records"):r.createElement("div",null,"You are offline")}},3510:(e,t,a)=>{a.d(t,{$d:()=>o,gG:()=>c,ZP:()=>l});var r=a(7294),n=a(6010);const s={infoLbl:"infoLbl_HVaW",txtR:"txtR_XmRq",txtC:"txtC_CKU3",cpy:"cpy_yrtj"},i={amt:"amt_OMye",prcnt:"prcnt_YUVf",light:"light_T39C",big:"big_rUzH",bigger:"bigger_RdkH",biggest:"biggest_OW94",large:"large_dwuq",larger:"larger_YFnI",short:"short_NwYw",cr:"cr_lfU0",l:"l_M3xS",k:"k_cpDz"};function l(e){let{title:t,children:a,textPos:i,className:l}=e;return r.createElement("div",{className:(0,n.Z)(s.infoLbl,"right"==i&&s.txtR,"center"==i&&s.txtC,l&&""!==l&&l),"data-title":t},a)}function o(e){let{children:t,useShortForm:a,size:s,useLightColor:l}=e;if(isNaN(t))return r.createElement(r.Fragment,null,"0");const o=Intl.NumberFormat("en-IN").format(t),c=t>=1e7?t/1e7:null,m=t<1e7&&t>=1e5?t/1e5:null,d=t<1e5?t/1e3:null;return r.createElement("span",{className:(0,n.Z)(i.amt,"big"===s&&i.big,"bigger"===s&&i.bigger,"biggest"===s&&i.biggest,"large"===s&&i.large,"larger"===s&&i.larger,l&&i.light,c&&i.cr,m&&i.l,d&&i.k,a&&i.short)},a&&(c||m||d)||o)}function c(e){let{children:t,size:a,useLightColor:s}=e;return r.createElement("span",{className:(0,n.Z)(i.prcnt,"big"===a&&i.big,"bigger"===a&&i.bigger,"biggest"===a&&i.biggest,"large"===a&&i.large,"larger"===a&&i.larger,s&&i.light)},t)}},238:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(6036),n=a(1872),s=a(4057),i=a(7167),l=a(934);class o{static creds=null;static lastLoggedInUserEmail=null;static lastReadIdTokenIssuedAt=0;static lastReadIdTokenExpiry=0;static _clear=()=>{this.creds=null,this.lastLoggedInUserEmail=null,this.lastReadIdTokenIssuedAt=0,this.lastReadIdTokenExpiry=0};static _isCredsExpired=()=>{if(!this.creds)return!0;if(!this.creds.expiration)return!0;const e=new Date(this.creds.expiration).getTime();if(isNaN(e))return!0;return Date.now()>=e-15e3};static _getIdToken=async()=>{try{const e=new i.AM({UserPoolId:s.Om,ClientId:s.In});if(!e)throw new Error("Error reading from user pool");const t=e.getCurrentUser(),a=await new Promise(((e,a)=>{t.getSession(((t,r)=>{if(t)return a(t.message||JSON.stringify(t));if(!r)return a("No active user session");if(!r.isValid?.())return a("Invalid session");const n=r.getIdToken?.();return n?e(n):a()}))}));if(!a)throw new Error;return a}catch(e){}};static _getJwtIdToken=async()=>{try{const e=await this._getIdToken(),t=e.getJwtToken?.();if(!t)throw new Error;return t}catch(e){}};static _readIdTokenDetails=async()=>{try{const e=await this._getIdToken(),t=e.decodePayload?.();if(!t)throw new Error;return{email:t.email,issuedAt:e.getIssuedAt?.(),exp:e.getExpiration?.()}}catch(e){}};static _isUserSessionChangedOrExpired=async()=>{try{const{email:t,issuedAt:a,exp:r}=await this._readIdTokenDetails();var e=!1;return this.lastLoggedInUserEmail==t&&this.lastReadIdTokenIssuedAt==a&&this.lastReadIdTokenExpiry==r||(e=!0),this.lastLoggedInUserEmail=t,this.lastReadIdTokenIssuedAt=a,this.lastReadIdTokenExpiry=r,e?(this.creds=null,!0):r<=Math.floor(Date.now()/1e3)-10}catch(t){throw new Error(t)}};static _fetchCredsForLoggedInUser=async e=>{try{const e=await this._getJwtIdToken(),t=(0,l.s)({identityPoolId:s.vX,clientConfig:{region:s.U3},logins:{[`cognito-idp.${s.U3}.amazonaws.com/${s.Om}`]:e}});if(!t)throw new Error("Error getting fn that fetches credentials");const a=await t();return this.creds=a,a}catch(t){throw new Error("Error fetching credentials for logged-in user")}};static isExpired=async()=>!!await this._isUserSessionChangedOrExpired()||!!this._isCredsExpired();static getCredsForLoggedInUser=async()=>{try{if(await this.isExpired()){return{creds:await this._fetchCredsForLoggedInUser(),isFromCache:!1}}return{creds:this.creds,isFromCache:!0}}catch(e){throw new Error("Error getting credentials for logged-in user")}}}class c{static ddbClient=null;static ddbDocClient=null;static close=()=>{this.ddbDocClient&&(this.ddbDocClient.destroy(),this.ddbDocClient=null),this.ddbClient&&(this.ddbClient.destroy(),this.ddbClient=null)};static _initIfNotAlready=async()=>{try{const{creds:e,isFromCache:t}=await o.getCredsForLoggedInUser();return t?(this.ddbClient&&"DynamoDBClient"===this.ddbClient.constructor.name&&this.ddbDocClient||(this.close(),this.ddbClient=new r.c({region:s.U3,credentials:e}),this.ddbDocClient=n.m1.from(this.ddbClient)),this.ddbDocClient):(this.close(),this.ddbClient=new r.c({region:s.U3,credentials:e}),this.ddbDocClient=n.m1.from(this.ddbClient),this.ddbDocClient)}catch(e){console.log("getDynamoDbDocClient():",e.message||e.code||e.name||"Error initiating DB client")}};static queryData=async e=>{try{if(!e)throw new Error("No query specified");await this._initIfNotAlready();return await this.ddbDocClient.send(new n.cI(e))}catch(t){console.log("queryData():",t.message||t.code||t.name||"Error querying data from database")}};static getItemData=async e=>{try{if(!e)throw new Error("No query specified");await this._initIfNotAlready();return await this.ddbDocClient.send(new n.Bj(e))}catch(t){console.log("getItemData():",t.message||t.code||t.name||"Error fetching data from database")}};static putData=async e=>{try{if(!e)throw new Error("No query specified");await this._initIfNotAlready();return await this.ddbDocClient.send(new n.Yi(e))}catch(t){console.log("putData():",t.message||t.code||t.name||"Error writing to database")}}}},4343:(e,t,a)=>{a.d(t,{Z:()=>r});class r{static months=["January","February","March","April","May","June","July","August","September","October","November","December"];static monthsAbr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];static getLetterFormatedDate=(e,t)=>{if(!e)return"";if(!Number.isInteger(e))return"";"boolean"!=typeof t&&(t=!1);const a=new Date(1e3*e);return t?a.getDate()+" "+this.monthsAbr[a.getMonth()]+" "+a.getFullYear():a.getDate()+" "+this.months[a.getMonth()]+" "+a.getFullYear()};static getNumberFormatedDate=(e,t,a)=>{if(!e)return"";if(!Number.isInteger(e))return"";t&&"string"==typeof t||(t="-"),"boolean"!=typeof a&&(a=!1);const r=new Date(1e3*e);let n=r.getDate(),s=r.getMonth()+1;return a&&(n=n<10?"0"+n:n,s=s<10?"0"+s:s),n+t+s+t+r.getFullYear()};static getDayOrdinal=e=>{const t=e.toString(),a=t.slice(-1);return"1"===a&&"11"!==t?`${t}st`:"2"===a&&"12"!==t?`${t}nd`:"3"===a&&"13"!==t?`${t}rd`:`${t}th`}}},5574:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var r=a(7294),n=a(6550),s=a(2263),i=a(9230),l=a(869),o=a(1262);function c(){const{siteConfig:e}=(0,s.Z)(),t=r.useContext(l._1);return t.isLoggedIn?r.createElement(i.Z,{title:`Investments at ${e.title}`,description:"My investments at Lunatic Capital"},r.createElement(o.Z,null,(()=>{const e=a(652).Z;return r.createElement(e,{cognitoUser:t})}))):r.createElement(n.l_,{to:`${e.baseUrl}login`})}}}]);